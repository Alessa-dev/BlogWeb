---
// Props para la fecha, el enlace, el título y la descripción
import { isAuthenticated } from '../utils/auth';

const { date, link, title, description, index } = Astro.props;

const handleUpdate = () => {
  // Aquí puedes agregar la lógica para actualizar la receta
  alert('Actualizar receta ' + index);
};

const handleDelete = () => {
  // Aquí puedes agregar la lógica para eliminar la receta
  alert('Eliminar receta ' + index);
};
---

<div class="px-10 py-20 text-center border rounded lg:px-5 lg:py-10 xl:py-20">
  <p class="mb-2 text-xs font-semibold tracking-wide text-gray-600 uppercase">{date}</p>
  <a href={link} class="inline-block max-w-xs mx-auto mb-3 text-2xl font-extrabold leading-7 transition-colors duration-200 hover:text-deep-purple-accent-400" aria-label="Read article" title={title}>
    {title}
  </a>
  <p class="max-w-xs mx-auto mb-2 text-gray-700">{description}</p>
  <a href={link} aria-label="" class="inline-flex items-center font-semibold transition-colors duration-200 text-deep-purple-accent-400 hover:text-deep-purple-800">Ver instrucciones</a>
  {isAuthenticated() && (
    <div class="flex flex-grow basis-0 space-x-4 mt-4">
      <a
        class="bg-white/5 backdrop-blur-sm text-sm rounded font-medium text-white px-12 py-2 inline-block hover:bg-white hover:text-black transition-colors"
        href="#"
        on:click={handleUpdate}
      >
        Actualizar
      </a>
      <a
        class="bg-white/5 backdrop-blur-sm text-sm rounded font-medium text-white px-12 py-2 inline-block hover:bg-white hover:text-black transition-colors"
        href="#"
        on:click={handleDelete}
      >
        Eliminar
      </a>
    </div>
  )}
</div>